<div class="container mt-5">

    <a href="./admin/shows">List of Shows</a>

    <h2>Add Show</h2>

<form [formGroup]="showForm" (ngSubmit)="onSubmit()" class="container mt-3">
    <!-- Theatre Selection -->
    <div formGroupName="theatre" class="form-group">
      <label for="theatreId">Theatre</label>
      <select id="theatreId" formControlName="theatreId" class="form-control">
        <option value="" disabled>Select Theatre</option>
        <option *ngFor="let theatre of theatres" [value]="theatre.theatreId">{{ theatre.name }} - {{ theatre.location }}</option>
      </select>
      <div *ngIf="showForm.get('theatre.theatreId')?.invalid && showForm.get('theatre.theatreId')?.touched" class="text-danger">
        Theatre selection is required.
      </div>
    </div>
  
    <!-- Movie Selection -->
    <div formGroupName="movie" class="form-group">
      <label for="movieId">Movie</label>
      <select id="movieId" formControlName="movieId" class="form-control">
        <option value="" disabled>Select Movie</option>
        <option *ngFor="let movie of movies" [value]="movie.movieId">{{ movie.title }}</option>
      </select>
      <div *ngIf="showForm.get('movie.movieId')?.invalid && showForm.get('movie.movieId')?.touched" class="text-danger">
        Movie selection is required.
      </div>
    </div>
  
    <!-- Show Date -->
    <div class="form-group">
      <label for="showDate">Show Date</label>
      <input type="date" id="showDate" formControlName="showDate" class="form-control">
      <div *ngIf="showForm.get('showDate')?.invalid && showForm.get('showDate')?.touched" class="text-danger">
        Show Date is required.
      </div>
    </div>
  
    <!-- Start Time -->
    <div class="form-group">
      <label for="startTime">Start Time</label>
      <input type="time" id="startTime" formControlName="startTime" class="form-control">
      <div *ngIf="showForm.get('startTime')?.invalid && showForm.get('startTime')?.touched" class="text-danger">
        Start Time is required.
      </div>
    </div>
  
    <!-- End Time -->
    <div class="form-group">
      <label for="endTime">End Time</label>
      <input type="time" id="endTime" formControlName="endTime" class="form-control">
      <div *ngIf="showForm.get('endTime')?.invalid && showForm.get('endTime')?.touched" class="text-danger">
        End Time is required.
      </div>
    </div>
  
    <!-- Ticket Price -->
    <div class="form-group">
      <label for="ticketPrice">Ticket Price</label>
      <input type="number" id="ticketPrice" formControlName="ticketPrice" min="0" step="0.01" class="form-control">
      <div *ngIf="showForm.get('ticketPrice')?.invalid && showForm.get('ticketPrice')?.touched" class="text-danger">
        Ticket Price is required and must be a positive number.
      </div>
    </div>
  
    <!-- Submit Button -->
    <button type="submit" [disabled]="showForm.invalid" class="btn btn-primary">Submit</button>
  </form>

  <div *ngIf="msgType == 'error'" class="errmsg">
    {{msg}}
    </div>
    
    <div *ngIf="msgType == 'success'" class="successmsg">
    {{msg}}
    </div>


  </div>
  